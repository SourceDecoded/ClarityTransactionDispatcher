<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes ClarityTransactionDispatcher Classes Classes ClarityTransactionDispatcher × Search results Close Documentation generated by JSDoc 3.4.3 on February 14th 2017, 9:46:34 am using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes ClarityTransactionDispatcher Getting Started with Clarity Transaction DispatcherInstall Clarity Transaction Dispatcher with npm. npm install ...To be determinedSetting UpNow that the dispatcher is install create a file title &quot;dispatcher.js&quot;. Inside &quot;dispatcher.js&quot; set up the services and the systems you need. Here is an example of &quot;dispatcher.js&quot;. var ClarityTransactionDispatcher = require(&quot;clarity-transaction-dispatcher&quot;).ClarityTransactionDispatcher; var LoggerSystem = function(){ this.name = &quot;Logger&quot;; this.guid = &quot;eaef6f3b-f9eb-4aac-b5ba-314e53da87d2&quot;; }; LoggerSystem.prototype.getName = function(){ return this.name; }; LoggerSystem.prototype.getGuid = function(){ return this.guid; }; LoggerSystem.prototype.entityAddedAsync = function(entity){}; LoggerSystem.prototype.entityUpdatedAsync = function(entity){}; LoggerSystem.prototype.entityRemovedAsync = function(entity){}; var logger = new LoggerSystem(); var dispatcher = new ClarityTransactionDispatcher(); dispatcher.addSystemAsync(logger); × Search results Close Documentation generated by JSDoc 3.4.3 on February 14th 2017, 9:46:34 am using the DocStrap template. "},"ClarityTransactionDispatcher.html":{"id":"ClarityTransactionDispatcher.html","title":"Class: ClarityTransactionDispatcher","body":" Documentation Classes ClarityTransactionDispatcher Class: ClarityTransactionDispatcher ClarityTransactionDispatcher Class that organizes systems to respond to data transactions. The dispatcher manages the life-cycle of data entities. They can be added, updated, removed, and read. The dispatcher is not responsible for anything beyond this. It will notify the systems when any entity has been added, updated, removed, and read. This allows the dispatcher to remain unopinionated about tasks to run when a certain entity is added, updated, or removed. The idea behind the dispatcher is to handle the complexity of the IoT. There are many systems, devices, and other technologies that need to communicate for a company to run smoothly. We believe that answer to these needs is a data dispatcher which lets all independent systems know about data changes. The dispatcher will also notify the system when components on the entity have been added updated or removed. This is critical for the systems to fulfill their responsibilities efficiently. new ClarityTransactionDispatcher() Create a Dispatcher. Methods addComponentAsync(entity, component) Adds a component to an entity. Parameters: Name Type Description entity object The entity of the component being added. component object The component being added. addEntityAsync(entity) Add an Entity to the datastore. This will record a transaction as well as maintain the current state of the entity. Parameters: Name Type Description entity object The entity you want add. Returns: Type Promise addServiceAsync(name, service) Add a service for systems to use. Services could be HTTP services, or governance that needs to be shared acrossed systems. Parameters: Name Type Description name string The name by which the systems will request the service. service object The service. Returns: Type Promise addSystemAsync(system) Add a system to the dispatcher. The systems are really where the work is done. They listen to the life-cycle of the entity and react based on the composition of components. For example an Image Thumbnail System will look to see if the entity has the component of image Required getGuid() getName() Optional activatedAsync(clarityTransactionDispatcher: ClarityTransactionDispatcher) disposeAsync(clarityTransactionDispatcher: ClarityTransactionDispatcher) deactivatedAsync(clarityTransactionDispatcher: ClarityTransactionDispatcher) entityAddedAsync(entity: {_id: string}) entityUpdatedAsync(oldEntity: any, newEntity: any) entityRemovedAsync(entity: {_id: string}) entityContentUpdatedAsync(oldContentId: string, newContentId: string) entityComponentAddedAsync(entity: {_id: string}, component: any) entityComponentUpdatedAsync(entity: {_id: string}, oldComponent: any, newComponent: any) entityComponentRemovedAsync(entity: {_id: string}, component: any) initializeAsync(clarityTransactionDispatcher: ClarityTransactionDispatcher) Parameters: Name Type Description system ISystem The system to add. Returns: An undefined Promise. Type Promise getComponent(id) Gets the component by the id provided. Parameters: Name Type Description id string The id of the component. Returns: Type Promise.&lt;Array&gt; getComponentsByEntityAsync(entity) Get the components of an entity by the entity. Parameters: Name Type Description entity object The entity of the components. Returns: Type Promise.&lt;Array&gt; getComponentsByEntityIdAsync(entity) Get the components of an entity by the entity. Parameters: Name Type Description entity object The entity's id of the components. Returns: Type Promise.&lt;Array&gt; getEntitiesAsync(skip, take) Get a range of entities. Parameters: Name Type Description skip number The amount of entities you want to skip. take number The amount of entities you want to take. Returns: The range of entities. Type Promise.&lt;Array.&lt;object&gt;&gt; getEntityByIdAsync(id) Get an entity by its id. Parameters: Name Type Description id string The id of the desired entity. Returns: A Promise resolved with the entity or null. Type Promise.&lt;Entity&gt; getEntityContentStream(entity) Get a stream of the content of the entity. Parameters: Name Type Description entity object The entity you want to get the content of. Returns: Node read stream. Type stream getEntityContentStreamById(id) Get a stream of the content of the entity. Parameters: Name Type Description id string The id of the entity you want to get the content of. Returns: Node read stream. Type NodeJS.ReadableStream getService(name) Get a service by the name given. Parameters: Name Type Description name string The name of the desired service. Returns: Null or the desired service. Type object pauseAsync() Pauses the dispatcher. Returns: Type Promise.&lt;undefined&gt; removeComponentAsync(component) Remove a component from an entity. Parameters: Name Type Description component object The component to be removed. removeEntityAsync(entity) Removes an entity. Parameters: Name Type Description entity object The entity to be removed. Returns: Type Promise.&lt;undefined&gt; removeService(name) Removes a service by its name. Parameters: Name Type Description name string The name of the service to be removed. Returns: Type undefined removeSystemAsync(system) Removes a system. Parameters: Name Type Description system system The system to be removed. Returns: Resolves when the system is disposed. Type Promise.&lt;undefined&gt; startAsync() Starts the dispatcher. When the dispatcher is started it will look for a ctd_config.json in the process directory. From the config file it will install all the dependencies with npm. Returns: Type Promise.&lt;undefined&gt; updateComponentAsync(component) Update a component. Parameters: Name Type Description component object The component to be updated. updateEntityAsync(entity) Updated an entity. Parameters: Name Type Description entity object The updated entity. Returns: Resolves when the entity is saved. Type Promise.&lt;undefined&gt; updateEntityContentByStream(entity, stream) Update an entity's content. Parameters: Name Type Description entity object The entity whos content is to be update. stream NodeJS.WritableStream The stream to save to the content of the entity. Returns: Type undefined × Search results Close Documentation generated by JSDoc 3.4.3 on February 14th 2017, 9:46:34 am using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
