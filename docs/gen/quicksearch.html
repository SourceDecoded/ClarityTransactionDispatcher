<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes ClarityTransactionDispatcher Classes Classes ClarityTransactionDispatcher × Search results Close Documentation generated by JSDoc 3.4.3 on February 15th 2017, 3:47:37 pm using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes ClarityTransactionDispatcher Getting Started with Clarity Transaction DispatcherInstall Clarity Transaction Dispatcher with npm. npm install ...To be determinedSetting UpNow that the dispatcher is install create a file title &quot;dispatcher.js&quot;. Inside &quot;dispatcher.js&quot; set up the services and the systems you need. Here is an example of &quot;dispatcher.js&quot;. var ClarityTransactionDispatcher = require(&quot;clarity-transaction-dispatcher&quot;).ClarityTransactionDispatcher; var LoggerSystem = function(){ this.name = &quot;Logger&quot;; this.guid = &quot;eaef6f3b-f9eb-4aac-b5ba-314e53da87d2&quot;; }; LoggerSystem.prototype.getName = function(){ return this.name; }; LoggerSystem.prototype.getGuid = function(){ return this.guid; }; LoggerSystem.prototype.entityAddedAsync = function(entity){}; LoggerSystem.prototype.entityUpdatedAsync = function(entity){}; LoggerSystem.prototype.entityRemovedAsync = function(entity){}; var logger = new LoggerSystem(); var dispatcher = new ClarityTransactionDispatcher(); dispatcher.addSystemAsync(logger); × Search results Close Documentation generated by JSDoc 3.4.3 on February 15th 2017, 3:47:37 pm using the DocStrap template. "},"ClarityTransactionDispatcher.html":{"id":"ClarityTransactionDispatcher.html","title":"Class: ClarityTransactionDispatcher","body":" Documentation Classes ClarityTransactionDispatcher Class: ClarityTransactionDispatcher ClarityTransactionDispatcher Class that organizes systems to respond to data transactions. The dispatcher manages the life-cycle of data entities. They can be added, updated, and removed. The dispatcher is not responsible for anything beyond this. It will notify the systems when any entity has been added, updated, and removed. This allows the dispatcher to remain unopinionated about tasks to run when a certain entity is added, updated, or removed. The idea behind the dispatcher is to handle the complexity of the IoT. There are many systems, devices, and other technologies that need to communicate for a company to run smoothly. We believe that the answer to these needs is a data dispatcher which lets all independent systems know about data changes. The dispatcher will also notify the system when components on the entity have been added updated or removed. This is critical for the systems to fulfill their responsibilities efficiently. new ClarityTransactionDispatcher() Create a Dispatcher. Methods addComponentAsync(entity, component) Adds a component to an entity. The dispatcher does the following when adding a component. Validate the component with all systems. Needs to be validated on all systems to pass. Saves the component to the datastore. Notifies the systems that a component has been added. Parameters: Name Type Description entity object The entity of the component being added. component object The component being added. addEntityAsync(entity) Add an Entity to the datastore. The steps the dispatcher takes when saving an entity are. Validate the entity with all systems. All systems have to validate to pass. Save the entity to the datastore. Notify the systems that an entity has been save to the datastore. Parameters: Name Type Description entity object The entity you want add. Returns: Type Promise addServiceAsync(name, service) Add a service for systems to use. Services could be HTTP services, or governance that needs to be shared acrossed systems. Parameters: Name Type Description name string The name by which the systems will request the service. service object The service. Returns: Type Promise addSystemAsync(system) Add a system to the dispatcher. The systems are really where the work is done. They listen to the life-cycle of the entity and react based on the composition of components. For example an Image Thumbnail System will look to see if the entity has the component of image Required System Methods getGuid() getName() Optional System Methods activatedAsync(clarityTransactionDispatcher: ClarityTransactionDispatcher) disposeAsync(clarityTransactionDispatcher: ClarityTransactionDispatcher) deactivatedAsync(clarityTransactionDispatcher: ClarityTransactionDispatcher) entityAddedAsync(entity: {_id: string}) entityUpdatedAsync(oldEntity: any, newEntity: any) entityRemovedAsync(entity: {_id: string}) entityContentUpdatedAsync(oldContentId: string, newContentId: string) entityComponentAddedAsync(entity: {_id: string}, component: any) entityComponentUpdatedAsync(entity: {_id: string}, oldComponent: any, newComponent: any) entityComponentRemovedAsync(entity: {_id: string}, component: any) initializeAsync(clarityTransactionDispatcher: ClarityTransactionDispatcher) validateEntityAsync(entity: {_id: string}) validateComponentAsync(component: {_id: string}) validateEntityContentAsync(entity: {_id: string}) Parameters: Name Type Description system ISystem The system to add. Returns: An undefined Promise. Type Promise getComponentAsync(componentId) Gets the component by the id provided. Parameters: Name Type Description componentId string The id of the component. Returns: Type Promise.&lt;Array&gt; getComponentsByEntityAsync(entity) Get the components of an entity by the entity. Parameters: Name Type Description entity object The entity of the components. Returns: Type Promise.&lt;Array&gt; getComponentsByTypeAsync(entity, type) Get the Components on the entity provided matching the type provided. Parameters: Name Type Description entity object The entity of the needed components. type string The type of the component needed. getEntitiesIterator() Get an Iterator of the all entities. Returns: Type MongoDbIterator getEntityByIdAsync(entityId) Get an entity by its id. Parameters: Name Type Description entityId string The id of the desired entity. Returns: A Promise resolved with the entity or null. Type Promise.&lt;Entity&gt; getEntityContentStreamByContentIdAsync(contentId) Get a stream of the content of the entity by its id. Parameters: Name Type Description contentId string The id of the content needed.. Returns: Node read stream. Type NodeJS.ReadableStream getEntityContentStreamByEntityAsync(entity) Get a stream of the content of the entity. Parameters: Name Type Description entity object The entity of the content needed. Returns: Node read stream. Type Promise.&lt;stream&gt; getService(name) Get a service by the name given. Parameters: Name Type Description name string The name of the desired service. Returns: Null or the desired service. Type object removeComponentAsync(component) Remove a component from an entity. Parameters: Name Type Description component object The component to be removed. Returns: Type Promise.&lt;undefined&gt; removeEntityAsync(entity) Removes an entity, and its associated content. When the content is removed it runs it through all the life cycles of content being removed. It also removes all the components from the entity, this will also trigger life cycle calls to the systems. Parameters: Name Type Description entity object The entity to be removed. Returns: Type Promise.&lt;undefined&gt; removeServiceAsync(name) Removes a service by its name. Parameters: Name Type Description name string The name of the service to be removed. Returns: Type Promise.&lt;undefined&gt; removeSystemAsync(system) Removes a system. Parameters: Name Type Description system system The system to be removed. Returns: Resolves when the system is disposed. Type Promise.&lt;undefined&gt; updateComponentAsync(component) Update a component. Parameters: Name Type Description component object The component to be updated. updateEntityAsync(entity) Updated an entity. Parameters: Name Type Description entity object The updated entity. Returns: Resolves when the entity is saved. Type Promise.&lt;undefined&gt; updateEntityContentByStream(entity, stream) Update an entity's content. Parameters: Name Type Description entity object The entity whos content is to be update. stream NodeJS.WritableStream The stream to save to the content of the entity. Returns: Type undefined × Search results Close Documentation generated by JSDoc 3.4.3 on February 15th 2017, 3:47:37 pm using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
