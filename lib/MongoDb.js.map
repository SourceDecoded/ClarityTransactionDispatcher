{"version":3,"sources":["../src/MongoDb.js"],"names":["MongoClient","ObjectID","resolvedPromise","Promise","resolve","defaultMongodbConfig","ip","port","MongoDb","config","Object","assign","process","databaseName","Error","databaseUrl","connect","getDatabaseAsync","then","db"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAMA,cAAc,kBAAQA,WAA5B;AACA,IAAMC,WAAW,kBAAQA,QAAzB;AACA,IAAMC,kBAAkBC,QAAQC,OAAR,EAAxB;AACA,IAAMC,uBAAuB;AACzBC,QAAI,WADqB;AAEzBC,UAAM;AAFmB,CAA7B;;IAKqBC,O;AACjB,qBAAYC,MAAZ,EAAoB;AAAA;;AAChB,aAAKA,MAAL,GAAcC,OAAOC,MAAP,CAAc,EAAd,EAAkBN,oBAAlB,EAAwCI,MAAxC,CAAd;AACA,aAAKG,OAAL,GAAe,IAAf;AACH;;;;yCAEgBC,Y,EAAc;AAC3B,gBAAIA,gBAAgB,IAApB,EAA0B;AACtB,sBAAM,IAAIC,KAAJ,CAAU,8DAAV,CAAN;AACH;;AAED,gBAAIC,6BAA2B,KAAKN,MAAL,CAAYH,EAAvC,SAA6C,KAAKG,MAAL,CAAYF,IAAzD,SAAiEM,YAArE;;AAEA,mBAAOb,YAAYgB,OAAZ,CAAoBD,WAApB,CAAP;AACH;;;uCAEcF,Y,EAAc;AACzB,mBAAO,KAAKI,gBAAL,CAAsBJ,YAAtB,EAAoCK,IAApC,CAAyC,UAACC,EAAD,EAAQ;AACpD,uBAAO,2BAAWA,EAAX,oBAAP;AACH,aAFM,CAAP;AAGH;;;sCAEa;AACV,mBAAOlB,QAAP;AACH;;;;;;kBAxBgBO,O","file":"MongoDb.js","sourcesContent":["import mongodb from \"mongodb\";\nimport GridFs from \"gridfs-stream\";\nimport fs from \"fs-extra\"\n\nconst MongoClient = mongodb.MongoClient;\nconst ObjectID = mongodb.ObjectID;\nconst resolvedPromise = Promise.resolve();\nconst defaultMongodbConfig = {\n    ip: \"127.0.0.1\",\n    port: \"27017\"\n};\n\nexport default class MongoDb {\n    constructor(config) {\n        this.config = Object.assign({}, defaultMongodbConfig, config);\n        this.process = null;\n    }\n\n    getDatabaseAsync(databaseName) {\n        if (databaseName == null) {\n            throw new Error(\"Null Argrument Exception: databaseName needs to be supplied.\");\n        }\n\n        var databaseUrl = `mongodb://${this.config.ip}:${this.config.port}/${databaseName}`;\n\n        return MongoClient.connect(databaseUrl);\n    }\n\n    getGridFsAsync(databaseName) {\n        return this.getDatabaseAsync(databaseName).then((db) => {\n            return new GridFs(db, mongodb);\n        });\n    }\n\n    getObjectID() {\n        return ObjectID;\n    }\n\n}"]}